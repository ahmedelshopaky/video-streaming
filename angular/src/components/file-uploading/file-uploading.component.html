<div class="m-5 p-5">
  <div class="text-center" *ngIf="loading; else elseBlock">
    <h3>Loading...</h3>
  </div>
  <ng-template #elseBlock>
    <form class="form text-center">
      <input
        type="file"
        (change)="onChange($event)"
        class="form-control w-25 m-auto"
      />
      <input
        type="button"
        (click)="onUpload()"
        value="Upload!"
        class="btn btn-primary m-3 w-25"
      />
    </form>
    <hr />
    <div class="d-flex align-items-center flex-column text-center">
      <input
        type="button"
        class="btn btn-success m-3 w-25"
        (click)="onDownload()"
        value="Download!"
      />
      <div *ngIf="url">
        <!-- <iframe
          src="https://player.vimeo.com/video/76979871?h=8272103f6e"
          width="640"
          height="360"
          frameborder="0"
          allowfullscreen
          allow="autoplay; encrypted-media"
        ></iframe> -->
        <video width="75%" height="auto" controls class="m-auto" preload="auto">
          <source [src]="url | safe" type="video/mp4" />
        </video>

        <!-- ngx-videogular -->
        <!-- <vg-player>
          <vg-overlay-play></vg-overlay-play>
          <vg-buffering></vg-buffering>

          <vg-scrub-bar>
            <vg-scrub-bar-current-time></vg-scrub-bar-current-time>
            <vg-scrub-bar-buffering-time></vg-scrub-bar-buffering-time>
          </vg-scrub-bar>

          <vg-controls>
            <vg-play-pause></vg-play-pause>
            <vg-playback-button></vg-playback-button>

            <vg-time-display
              vgProperty="current"
              vgFormat="mm:ss"
            ></vg-time-display>

            <vg-scrub-bar style="pointer-events: none"></vg-scrub-bar>

            <vg-time-display
              vgProperty="left"
              vgFormat="mm:ss"
            ></vg-time-display>
            <vg-time-display
              vgProperty="total"
              vgFormat="mm:ss"
            ></vg-time-display>

            <vg-track-selector></vg-track-selector>
            <vg-mute></vg-mute>
            <vg-volume></vg-volume>

            <vg-fullscreen></vg-fullscreen>
          </vg-controls>

          <video
            [vgMedia]="$any(media)"
            #media
            id="singleVideo"
            preload="auto"
            crossorigin
          >
            <source [src]="url | safe" type="video/mp4" />
          </video>
        </vg-player> -->
      </div>
    </div>
  </ng-template>
</div>
